var DBO={data:null,settings:{baseUrl:"http://api.bukget.org/3/"},init:function(){console.log("dbo_init")},search:function(search,type){this.getPluginSlug(search,type,this.getPluginData)},getPluginSlug:function(name,type,callback){var url=this.baseUrl+"search/plugin_name/like/"+name+"?fields=slug,plugin_name";var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){var data=JSON.parse(xhr.responseText);var slug=null;for(var i in data){if(data[i].plugin_name.toLowerCase()===name.toLowerCase()){slug=data[i].slug}}if(typeof data[0]==="undefined"){Core.error("Plugin does not exist.")}else{callback(slug,type,MinecraftPlugins.populateData)}}if(xhr.status===404)Core.error("Plugin does not exist.")}};console.log(url);xhr.open("GET",url,true);xhr.send()},getPluginData:function(slug,type,callback){var url=this.baseUrl+"plugins/"+type+"/"+slug;var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200)callback(JSON.parse(xhr.responseText));if(xhr.status===404)Core.error("Could not load plugin data.")}};xhr.open("GET",url,true);xhr.send()},populateSearchSuggestions:function(){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){var data=JSON.parse(xhr.responseText);$("#input-plugin-name").autocomplete({lookup:data.suggestions,lookupLimit:20,autoSelectFirst:true})}};xhr.open("GET","bukkit-plugins.json",true);xhr.send()}};