var MinecraftPlugins={loaded:false,data:null,default_server_type:"bukkit",init:function(){MinecraftPlugins.populateSearchSuggestions(MinecraftPlugins.getServerType())},getPluginName:function(){return $("#input-search-ter,").val()},getServerType:function(){return $("#input-server-type :selected").val()},populateData:function(e){MinecraftPlugins.data=e;$("#plugin-name").html(e.plugin_name||"");$("#plugin-author").html(e.authors||"");$("#plugin-latest-version").html(e.versions[0].version||"");$("#plugin-description").html(e.description||"");$("#plugin-website").attr("href",e.website||"");$("#plugin-repo-page").attr("href",e.dbo_page||"");$("#plugin-latest-download").attr("href",e.versions[0].download||"");$("#plugin-logo").attr("href",e.logo_full||"resources/images/default.jpg");$("#plugin-logo img").attr("src",e.logo_full||"resources/images/default.jpg");for(var t=0;t<e.versions.length;t++){var n=$("<a>",{"class":"btn btn-primary btn-sm btn-block btn-changelog",text:"Changelog"});var a=$("<a>",{href:e.versions[t].download,"class":"btn btn-primary btn-sm btn-block",html:"<i class='icon fa fa-download'></i>Download"});$("#download-table").find("tbody").append($("<tr id='trr-"+t+"'>").append($("<td>").text(e.versions[t].version)).append($("<td>").text(e.versions[t].filename)).append($("<td>").append(n)).append($("<td>").append(a)))}$(".btn-changelog").click(function(){var e=$(this).closest("td").parent()[0].sectionRowIndex;$("#changelog-title").text(MinecraftPlugins.data.versions[e].version);$("#changelog-body").html(atob(MinecraftPlugins.data.versions[e].changelog));$("#changelog-modal").modal("show")});MinecraftPlugins.loadSuccess()},populateSearchSuggestions:function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var e=JSON.parse(t.responseText);$("#input-search-ter,").autocomplete({lookup:e.suggestions,lookupLimit:20,autoSelectFirst:true,onSearchComplete:function(e,t){console.log("complete")},onSelect:function(e){console.log(e.value)}})}};t.open("GET",e+"-plugins.json",true);t.send()},startLoading:function(){$(".alert").slice(0).remove();if(MinecraftPlugins.loaded){$(".plugin-details").fadeOut("fast");MinecraftPlugins.clearData();MinecraftPlugins.data=null}MinecraftPlugins.spinner.spin(document.getElementById("spinner"))},loadSuccess:function(){MinecraftPlugins.loaded=true;MinecraftPlugins.spinner.stop();$(".plugin-details").fadeIn("fast")},loadError:function(e){MinecraftPlugins.loaded=false;MinecraftPlugins.spinner.stop();$(".plugin-details").fadeOut("fast");var t=$("<div>",{"class":"alert alert-danger",role:"alert",html:"<a href='#' class='close' data-dismiss='alert'>&times;</a>"+e});$(".alert").slice(0).remove();$("#error").append(t)}};